use alloy_primitives::{Bytes, Uint, U64};
use clap::Parser;
use std::str::FromStr;

use anvil::{
    cmd::NodeArgs,
    eth::{error::BlockchainError, EthApi},
    NodeHandle,
};
use anvil_core::eth::transaction::EthTransactionRequest;
use ethers::{prelude::Provider, providers::Middleware};
use ethers::{providers::JsonRpcClient, types::Transaction};
use thiserror::Error;

use crate::core::resources::{
    artifacts::ArtifactsResource,
    etherscan::{ContractCreationResult, EtherscanResource},
    shadow::{ShadowContract, ShadowResource},
};

const DEPLOYER_BALANCE: i64 = 1000000000000000000;
const DEPLOY_TX_GAS: i64 = 10000000;

/// Deploys a shadow contract to a shadow fork.
///
/// This action is used by the `deploy` command.
pub struct Deploy<E: EtherscanResource, A: ArtifactsResource, S: ShadowResource, P: JsonRpcClient> {
    /// The name of the artifact file to use
    pub file_name: String,

    /// The name of the contract to deploy
    pub contract_name: String,

    /// The address of the shadow contract to deploy
    pub address: String,

    /// The Ethereum provider
    pub provider: Provider<P>,

    /// The Artifacts resource
    pub artifacts_resource: A,

    /// The Etherscan resource
    pub etherscan_resource: E,

    /// The Shadow resource
    pub shadow_resource: S,

    /// The RPC URL to use for the anvil fork
    pub http_rpc_url: String,
}

#[allow(clippy::enum_variant_names)]
#[derive(Error, Debug)]
pub enum DeployError {
    /// Catch-all error
    #[error("DefaultError: {0}")]
    DefaultError(String),
    /// Blockchain error
    #[error("BlockchainError: {0}")]
    BlockchainError(#[from] BlockchainError),
    /// Error related to the artifacts store
    #[error("ArtifactError: {0}")]
    ArtifactError(#[from] Box<dyn std::error::Error>),
    /// Error related to Etherscan
    #[error("EtherscanError: {0}")]
    EtherscanError(#[source] reqwest::Error),
    /// Error related to the provider
    #[error("ProviderError: {0}")]
    ProviderError(#[from] ethers::providers::ProviderError),
}

impl<E: EtherscanResource, A: ArtifactsResource, S: ShadowResource, P: JsonRpcClient>
    Deploy<E, A, S, P>
{
    pub async fn run(&self) -> Result<(), DeployError> {
        // Get the artifact bytecode
        let artifact_bytecode = self.get_artifact_bytecode()?;

        // Fetch the contract creation metadata from Etherscan
        let contract_creation_metadata = self.fetch_contract_creation_metadata().await?;

        // Fetch the constructor arguments from Etherscan
        let constructor_arguments = self.fetch_constructor_arguments().await?;

        // Fetch the contract creation transaction
        let contract_creation_transaction = self
            .fetch_contract_creation_transaction(&contract_creation_metadata.tx_hash)
            .await?;

        // Start a temporary fork to deploy the shadow contract
        let (api, anvil_handle) = self
            .start_anvil(
                contract_creation_transaction
                    .block_number
                    .map(|n| U64::from(n.as_u64())),
            )
            .await?;

        // Construct the init code
        let init_code = self
            .construct_init_code(&artifact_bytecode, &constructor_arguments)
            .await?;

        // Deploy the shadow contract and get the runtime bytecode
        let runtime_bytecode = self
            .get_runtime_bytecode(
                &api,
                &init_code,
                &contract_creation_metadata.contract_creator,
            )
            .await?;

        // Kill the fork
        anvil_handle.node_service.abort();

        // Build the shadow contract
        let shadow_contract = ShadowContract {
            file_name: self.file_name.clone(),
            contract_name: self.contract_name.clone(),
            address: self.address.clone(),
            runtime_bytecode,
        };

        // Store the shadow contract
        self.shadow_resource
            .upsert(shadow_contract)
            .await
            .map_err(|e| DeployError::DefaultError(e.to_string()))?;

        Ok(())
    }

    /// Returns the init bytecode of the shadow contract from the artifact file.
    fn get_artifact_bytecode(&self) -> Result<Bytes, DeployError> {
        let contract: alloy_json_abi::ContractObject = self
            .artifacts_resource
            .get_artifact(&self.file_name, &self.contract_name)
            .map_err(DeployError::ArtifactError)?;
        match contract.bytecode {
            Some(bytecode) => Ok(bytecode),
            None => Err(DeployError::DefaultError(
                "Contract does not have bytecode".to_owned(),
            )),
        }
    }

    /// Fetches the contract creation metadata from Etherscan.
    async fn fetch_contract_creation_metadata(
        &self,
    ) -> Result<ContractCreationResult, DeployError> {
        // Fetch the contract creation metadata from Etherscan
        let response = self
            .etherscan_resource
            .get_contract_creation(&self.address)
            .await
            .map_err(DeployError::EtherscanError)?;

        // Check that the response is valid
        if response.status != "1" {
            return Err(DeployError::DefaultError(response.message));
        }

        // Check that the response contains exactly one result
        if response.result.len() != 1 {
            return Err(DeployError::DefaultError(
                "Expected exactly one result".to_owned(),
            ));
        }

        // Return the result
        let result = response.result.first().unwrap();
        Ok(result.clone())
    }

    /// Fetches the constructor arguments from Etherscan.
    async fn fetch_constructor_arguments(&self) -> Result<String, DeployError> {
        // Fetch the contract creation metadata from Etherscan
        let response = self
            .etherscan_resource
            .get_source_code(&self.address)
            .await
            .map_err(DeployError::EtherscanError)?;

        // Check that the response is valid
        if response.status != "1" {
            return Err(DeployError::DefaultError(response.message));
        }

        // Check that the response contains exactly one result
        if response.result.len() != 1 {
            return Err(DeployError::DefaultError(
                "Expected exactly one result".to_owned(),
            ));
        }

        // Return the result
        let result = response.result.first().unwrap();
        Ok(result.constructor_arguments.clone())
    }

    /// Fetches the contract creation transaction.
    async fn fetch_contract_creation_transaction(
        &self,
        tx_hash: &str,
    ) -> Result<Transaction, DeployError> {
        let response = self
            .provider
            .get_transaction(ethers::types::H256::from_str(tx_hash).unwrap())
            .await
            .map_err(DeployError::ProviderError)?;

        match response {
            Some(transaction) => Ok(transaction),
            None => Err(DeployError::DefaultError(
                "Transaction not found".to_owned(),
            )),
        }
    }

    /// Starts an anvil fork, which is used to deploy the shadow contract.
    async fn start_anvil(
        &self,
        block_number: Option<U64>,
    ) -> Result<(EthApi, NodeHandle), DeployError> {
        let anvil_args = anvil_args(
            self.http_rpc_url.as_str(),
            block_number
                .map(|n| (n.saturating_sub(Uint::from(1))).to_string())
                .unwrap_or_else(|| "latest".to_owned())
                .as_str(),
        );
        let (api, node_handle) = anvil::spawn(anvil_args.into_node_config()).await;
        Ok((api, node_handle))
    }

    /// Constructs the init code to create the shadow contract.
    async fn construct_init_code(
        &self,
        artifact_bytecode: &Bytes,
        constructor_arguments: &String,
    ) -> Result<Vec<u8>, DeployError> {
        let mut init_code = artifact_bytecode.to_vec();
        let mut constructor_arguments = hex::decode(constructor_arguments).unwrap();
        init_code.append(&mut constructor_arguments);
        Ok(init_code)
    }

    /// Deploys the shadow contract onto the anvil fork to get the runtime bytecode.
    async fn get_runtime_bytecode(
        &self,
        api: &EthApi,
        init_code: &[u8],
        deployer_address: &str,
    ) -> Result<String, DeployError> {
        // Insure the deployer has enough balance to deploy the shadow contract
        let deployer = ethers::types::H160::from_str(deployer_address).unwrap();
        api.anvil_set_balance(deployer, ethers::types::U256::from(DEPLOYER_BALANCE))
            .await
            .map_err(DeployError::BlockchainError)?;

        // Impersonate the deployer and send the deploy transaction
        api.anvil_impersonate_account(deployer)
            .await
            .map_err(DeployError::BlockchainError)?;
        let request = EthTransactionRequest {
            from: Some(deployer),
            value: Some(ethers::types::U256::from(0_i64)),
            gas: Some(ethers::types::U256::from(DEPLOY_TX_GAS)),
            data: Some(ethers::types::Bytes::from(init_code.to_owned())),
            ..Default::default()
        };
        let deploy_tx_hash = api
            .send_transaction(request)
            .await
            .map_err(DeployError::BlockchainError)?;

        // Mine the transaction
        api.evm_mine(None)
            .await
            .map_err(DeployError::BlockchainError)?;

        // Get the deployed contract address
        let deploy_tx_receipt = api
            .transaction_receipt(deploy_tx_hash)
            .await
            .map_err(DeployError::BlockchainError)?;
        let deployed_contract_address = match deploy_tx_receipt {
            Some(receipt) => match receipt.contract_address {
                Some(address) => address,
                None => {
                    return Err(DeployError::DefaultError(
                        "Failed to get contract address".to_owned(),
                    ))
                }
            },
            None => {
                return Err(DeployError::DefaultError(
                    "Failed to get transaction receipt".to_owned(),
                ))
            }
        };

        // Get the deployed contract code
        let code = api
            .get_code(deployed_contract_address, None)
            .await
            .map_err(DeployError::BlockchainError)?;
        Ok(hex::encode(code.as_ref()))
    }
}

fn anvil_args(http_rpc_url: &str, block_number: &str) -> NodeArgs {
    NodeArgs::parse_from([
        "anvil",
        "--fork-url",
        http_rpc_url,
        "--fork-block-number",
        block_number,
        "--code-size-limit",
        usize::MAX.to_string().as_str(),
        "--base-fee",
        "0",
        "--gas-price",
        "0",
        "--no-mining",
        "--silent",
        "--disable-gas-limit",
        "--hardfork",
        "latest",
    ])
}

#[cfg(test)]
mod tests {
    use async_trait::async_trait;
    use ethers::{providers::MockProvider, types::Transaction};
    use std::fs::{self, File};
    use tempfile::tempdir;

    use crate::{
        core::resources::{
            etherscan::{
                ContractCreationResult, EtherscanResource, GetContractCreationResponse,
                GetSourceCodeResponse, SourceCodeResult,
            },
            shadow::ShadowResource,
        },
        resources::{artifacts::LocalArtifactStore, shadow::LocalShadowStore},
        test_fixture,
    };

    struct MockEtherscanResource {}

    #[async_trait]
    impl EtherscanResource for MockEtherscanResource {
        async fn get_contract_creation(
            &self,
            _address: &str,
        ) -> Result<GetContractCreationResponse, reqwest::Error> {
            Ok(GetContractCreationResponse {
                status: "1".to_owned(),
                message: "OK".to_owned(),
                result: vec![ContractCreationResult {
                    contract_address: "0x7a250d5630b4cf539739df2c5dacb4c659f2488d".to_owned(),
                    contract_creator: "0x9c33eacc2f50e39940d3afaf2c7b8246b681a374".to_owned(),
                    tx_hash: "0x4fc1580e7f66c58b7c26881cce0aab9c3509afe6e507527f30566fbf8039bcd0"
                        .to_owned(),
                }],
            })
        }

        async fn get_source_code(
            &self,
            _address: &str,
        ) -> Result<GetSourceCodeResponse, reqwest::Error> {
            Ok(GetSourceCodeResponse {
                status: "1".to_owned(),
                message: "OK".to_owned(),
                result: vec![SourceCodeResult{
                    constructor_arguments: "0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2".to_owned(),
                }],
            })
        }
    }

    #[tokio::test(flavor = "multi_thread")]
    async fn test_run() {
        // Create a temp directory with a shadow.json file
        let temp_dir = tempdir().unwrap();
        let file_path_buf = temp_dir.path().join("shadow.json");
        let file_path = file_path_buf.as_path();
        File::create(file_path).unwrap();
        fs::copy(test_fixture!("resources", "shadow.json"), file_path).unwrap();

        let file_name = "UniswapV2Router02.sol".to_owned();
        let contract_name = "UniswapV2Router02".to_owned();
        let address = "0x7a250d5630b4cf539739df2c5dacb4c659f2488d".to_owned();
        let (provider, mock) = ethers::providers::Provider::<MockProvider>::mocked();
        mock.push(Transaction {
            block_number: Some(ethers::types::U64::from(10207858)),
            ..Default::default()
        })
        .unwrap();
        let artifacts_resource = LocalArtifactStore::new(test_fixture!("resources", ""));
        let etherscan_resource = MockEtherscanResource {};
        let shadow_resource = LocalShadowStore::new(temp_dir.path().to_str().unwrap().to_string());

        let deploy = super::Deploy {
            file_name,
            contract_name,
            address,
            provider,
            artifacts_resource,
            etherscan_resource,
            shadow_resource,
            http_rpc_url: env!("ETH_RPC_URL", "Please set an ETH_RPC_URL").to_owned(),
        };
        deploy.run().await.unwrap();

        // Check that the shadow.json file has been updated
        let shadow = LocalShadowStore::new(temp_dir.path().to_str().unwrap().to_string());
        let contract = shadow
            .get_by_address("0x7a250d5630b4cf539739df2c5dacb4c659f2488d")
            .await
            .unwrap();
        assert_eq!(
            contract.runtime_bytecode,
            "60806040526004361061014f5760003560e01c80638803dbee116100b6578063c45a01551161006f578063c45a0155146103e6578063d06ca61f146103fb578063ded9382a1461041b578063e8e337001461043b578063f305d7191461046a578063fb3bdb411461047d57610188565b80638803dbee14610331578063ad5c464814610351578063ad615dec14610373578063af2979eb14610393578063b6f9de95146103b3578063baa2abde146103c657610188565b80634a25d94a116101085780634a25d94a1461027e5780635b0d59841461029e5780635c11d795146102be578063791ac947146102de5780637ff36ab5146102fe57806385f8c2591461031157610188565b806302751cec1461018d578063054d50d4146101c457806318cbafe5146101f15780631f00ca741461021e5780632195995c1461023e57806338ed17391461025e57610188565b3661018857336001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2161461018657fe5b005b600080fd5b34801561019957600080fd5b506101ad6101a83660046139ef565b610490565b6040516101bb9291906143de565b60405180910390f35b3480156101d057600080fd5b506101e46101df366004613d1a565b610590565b6040516101bb91906143d5565b3480156101fd57600080fd5b5061021161020c366004613ca9565b6105a5565b6040516101bb9190613e8a565b34801561022a57600080fd5b50610211610239366004613bcf565b61090c565b34801561024a57600080fd5b506101ad6102593660046138ca565b610942565b34801561026a57600080fd5b50610211610279366004613ca9565b610a1b565b34801561028a57600080fd5b50610211610299366004613ca9565b610b24565b3480156102aa57600080fd5b506101e46102b9366004613a4c565b610dc8565b3480156102ca57600080fd5b506101866102d9366004613ca9565b610eb5565b3480156102ea57600080fd5b506101866102f9366004613ca9565b6111d7565b61021161030c366004613b6a565b611470565b34801561031d57600080fd5b506101e461032c366004613d1a565b6117f6565b34801561033d57600080fd5b5061021161034c366004613ca9565b611803565b34801561035d57600080fd5b50610366611909565b6040516101bb9190613dde565b34801561037f57600080fd5b506101e461038e366004613d1a565b61192d565b34801561039f57600080fd5b506101e46103ae3660046139ef565b61193a565b6101866103c1366004613b6a565b611aac565b3480156103d257600080fd5b506101ad6103e1366004613859565b611e67565b3480156103f257600080fd5b5061036661204a565b34801561040757600080fd5b50610211610416366004613bcf565b61206e565b34801561042757600080fd5b506101ad610436366004613a4c565b61209b565b34801561044757600080fd5b5061045b610456366004613974565b61218e565b6040516101bb9392919061443c565b61045b6104783660046139ef565b61229e565b61021161048b366004613b6a565b61250e565b60008082428110156104bd5760405162461bcd60e51b81526004016104b490613f34565b60405180910390fd5b6104ec897f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28a8a8a308a611e67565b90935091506104fc8986856128a4565b604051632e1a7d4d60e01b81526001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21690632e1a7d4d906105489085906004016143d5565b600060405180830381600087803b15801561056257600080fd5b505af1158015610576573d6000803e3d6000fd5b505050506105848583612992565b50965096945050505050565b600061059d848484612a24565b949350505050565b606081428110156105c85760405162461bcd60e51b81526004016104b490613f34565b6001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2168686600019810181811061060257fe5b9050602002016020810190610617919061381a565b6001600160a01b03161461063d5760405162461bcd60e51b81526004016104b4906140f9565b61069b7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612ad692505050565b915086826001845103815181106106ae57fe5b602002602001015110156106d45760405162461bcd60e51b81526004016104b4906142c4565b610781868660008181106106e457fe5b90506020020160208101906106f9919061381a565b336107677f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8a8a600081811061072b57fe5b9050602002016020810190610740919061381a565b8b8b600181811061074d57fe5b9050602002016020810190610762919061381a565b612bed565b8560008151811061077457fe5b6020026020010151612c5d565b6107c082878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250309250612d4e915050565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b0316632e1a7d4d836001855103815181106107ff57fe5b60200260200101516040518263ffffffff1660e01b815260040161082391906143d5565b600060405180830381600087803b15801561083d57600080fd5b505af1158015610851573d6000803e3d6000fd5b50505050610876848360018551038151811061086957fe5b6020026020010151612992565b6000805160206144e1833981519152308787600081811061089357fe5b90506020020160208101906108a8919061381a565b888860001981018181106108b857fe5b90506020020160208101906108cd919061381a565b8b866001885103815181106108de57fe5b6020026020010151336040516108f99695949392919061409e565b60405180910390a1509695505050505050565b60606109397f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8484612f0e565b90505b92915050565b60008060006109727f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8f8f612bed565b9050600087610981578c610985565b6000195b60405163d505accf60e01b81529091506001600160a01b0383169063d505accf906109c0903390309086908f908e908e908e90600401613df2565b600060405180830381600087803b1580156109da57600080fd5b505af11580156109ee573d6000803e3d6000fd5b50505050610a018f8f8f8f8f8f8f611e67565b809450819550505050509b509b9950505050505050505050565b60608142811015610a3e5760405162461bcd60e51b81526004016104b490613f34565b610a9c7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612ad692505050565b91508682600184510381518110610aaf57fe5b60200260200101511015610ad55760405162461bcd60e51b81526004016104b4906142c4565b610ae5868660008181106106e457fe5b61087682878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250612d4e915050565b60608142811015610b475760405162461bcd60e51b81526004016104b490613f34565b6001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21686866000198101818110610b8157fe5b9050602002016020810190610b96919061381a565b6001600160a01b031614610bbc5760405162461bcd60e51b81526004016104b4906140f9565b610c1a7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612f0e92505050565b91508682600081518110610c2a57fe5b60200260200101511115610c505760405162461bcd60e51b81526004016104b4906141f4565b610c60868660008181106106e457fe5b610c9f82878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250309250612d4e915050565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b0316632e1a7d4d83600185510381518110610cde57fe5b60200260200101516040518263ffffffff1660e01b8152600401610d0291906143d5565b600060405180830381600087803b158015610d1c57600080fd5b505af1158015610d30573d6000803e3d6000fd5b50505050610d48848360018551038151811061086957fe5b6000805160206144e18339815191523087876000818110610d6557fe5b9050602002016020810190610d7a919061381a565b88886000198101818110610d8a57fe5b9050602002016020810190610d9f919061381a565b85600081518110610dac57fe5b60200260200101518c336040516108f99695949392919061409e565b600080610e167f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8d7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2612bed565b9050600086610e25578b610e29565b6000195b60405163d505accf60e01b81529091506001600160a01b0383169063d505accf90610e64903390309086908e908d908d908d90600401613df2565b600060405180830381600087803b158015610e7e57600080fd5b505af1158015610e92573d6000803e3d6000fd5b50505050610ea48d8d8d8d8d8d61193a565b9d9c50505050505050505050505050565b8042811015610ed65760405162461bcd60e51b81526004016104b490613f34565b610f5585856000818110610ee657fe5b9050602002016020810190610efb919061381a565b33610f4f7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110610f2d57fe5b9050602002016020810190610f42919061381a565b8a8a600181811061074d57fe5b8a612c5d565b600085856000198101818110610f6757fe5b9050602002016020810190610f7c919061381a565b6001600160a01b03166370a08231856040518263ffffffff1660e01b8152600401610fa79190613dde565b60206040518083038186803b158015610fbf57600080fd5b505afa158015610fd3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ff79190613b52565b9050611037868680806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250889250613011915050565b866110e8828888600019810181811061104c57fe5b9050602002016020810190611061919061381a565b6001600160a01b03166370a08231886040518263ffffffff1660e01b815260040161108c9190613dde565b60206040518083038186803b1580156110a457600080fd5b505afa1580156110b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110dc9190613b52565b9063ffffffff61328716565b10156111065760405162461bcd60e51b81526004016104b4906142c4565b6000805160206144e1833981519152308787600081811061112357fe5b9050602002016020810190611138919061381a565b8888600019810181811061114857fe5b905060200201602081019061115d919061381a565b8b6111b2868c8c600019810181811061117257fe5b9050602002016020810190611187919061381a565b6001600160a01b03166370a082318c6040518263ffffffff1660e01b815260040161108c9190613dde565b336040516111c59695949392919061409e565b60405180910390a15050505050505050565b80428110156111f85760405162461bcd60e51b81526004016104b490613f34565b6001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2168585600019810181811061123257fe5b9050602002016020810190611247919061381a565b6001600160a01b03161461126d5760405162461bcd60e51b81526004016104b4906140f9565b61127d85856000818110610ee657fe5b6112bb858580806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250309250613011915050565b6040516370a0823160e01b81526000906001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc216906370a082319061130a903090600401613dde565b60206040518083038186803b15801561132257600080fd5b505afa158015611336573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061135a9190613b52565b90508681101561137c5760405162461bcd60e51b81526004016104b4906142c4565b604051632e1a7d4d60e01b81526001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21690632e1a7d4d906113c89084906004016143d5565b600060405180830381600087803b1580156113e257600080fd5b505af11580156113f6573d6000803e3d6000fd5b505050506114048482612992565b6000805160206144e1833981519152308787600081811061142157fe5b9050602002016020810190611436919061381a565b8888600019810181811061144657fe5b905060200201602081019061145b919061381a565b8b85336040516111c59695949392919061409e565b606081428110156114935760405162461bcd60e51b81526004016104b490613f34565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b0316868660008181106114ca57fe5b90506020020160208101906114df919061381a565b6001600160a01b0316146115055760405162461bcd60e51b81526004016104b4906140f9565b6115637f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f34888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612ad692505050565b9150868260018451038151811061157657fe5b6020026020010151101561159c5760405162461bcd60e51b81526004016104b4906142c4565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663d0e30db0836000815181106115d857fe5b60200260200101516040518263ffffffff1660e01b81526004016000604051808303818588803b15801561160b57600080fd5b505af115801561161f573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663a9059cbb6116847f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110610f2d57fe5b8460008151811061169157fe5b60200260200101516040518363ffffffff1660e01b81526004016116b6929190613e71565b602060405180830381600087803b1580156116d057600080fd5b505af11580156116e4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117089190613ae2565b61170e57fe5b61174d82878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250612d4e915050565b6000805160206144e1833981519152308787600081811061176a57fe5b905060200201602081019061177f919061381a565b8888600019810181811061178f57fe5b90506020020160208101906117a4919061381a565b856000815181106117b157fe5b6020026020010151866001885103815181106117c957fe5b6020026020010151336040516117e49695949392919061409e565b60405180910390a15095945050505050565b600061059d8484846132aa565b606081428110156118265760405162461bcd60e51b81526004016104b490613f34565b6118847f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612f0e92505050565b9150868260008151811061189457fe5b602002602001015111156118ba5760405162461bcd60e51b81526004016104b4906141f4565b6118ca868660008181106106e457fe5b610d4882878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250612d4e915050565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc281565b600061059d84848461335c565b6000814281101561195d5760405162461bcd60e51b81526004016104b490613f34565b61198c887f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28989893089611e67565b6040516370a0823160e01b8152909350611a199150899086906001600160a01b038316906370a08231906119c4903090600401613dde565b60206040518083038186803b1580156119dc57600080fd5b505afa1580156119f0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a149190613b52565b6128a4565b604051632e1a7d4d60e01b81526001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21690632e1a7d4d90611a659085906004016143d5565b600060405180830381600087803b158015611a7f57600080fd5b505af1158015611a93573d6000803e3d6000fd5b50505050611aa18483612992565b509695505050505050565b8042811015611acd5760405162461bcd60e51b81526004016104b490613f34565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031685856000818110611b0457fe5b9050602002016020810190611b19919061381a565b6001600160a01b031614611b3f5760405162461bcd60e51b81526004016104b4906140f9565b60003490507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015611b9f57600080fd5b505af1158015611bb3573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663a9059cbb611c187f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110610f2d57fe5b836040518363ffffffff1660e01b8152600401611c36929190613e71565b602060405180830381600087803b158015611c5057600080fd5b505af1158015611c64573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c889190613ae2565b611c8e57fe5b600086866000198101818110611ca057fe5b9050602002016020810190611cb5919061381a565b6001600160a01b03166370a08231866040518263ffffffff1660e01b8152600401611ce09190613dde565b60206040518083038186803b158015611cf857600080fd5b505afa158015611d0c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d309190613b52565b9050611d70878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250613011915050565b6000611dc68289896000198101818110611d8657fe5b9050602002016020810190611d9b919061381a565b6001600160a01b03166370a08231896040518263ffffffff1660e01b815260040161108c9190613dde565b905088811015611de85760405162461bcd60e51b81526004016104b4906142c4565b6000805160206144e18339815191523089896000818110611e0557fe5b9050602002016020810190611e1a919061381a565b8a8a6000198101818110611e2a57fe5b9050602002016020810190611e3f919061381a565b868533604051611e549695949392919061409e565b60405180910390a1505050505050505050565b6000808242811015611e8b5760405162461bcd60e51b81526004016104b490613f34565b6000611eb87f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8c8c612bed565b6040516323b872dd60e01b81529091506001600160a01b038216906323b872dd90611eeb90339085908e90600401613e33565b602060405180830381600087803b158015611f0557600080fd5b505af1158015611f19573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f3d9190613ae2565b50600080826001600160a01b03166389afcb44896040518263ffffffff1660e01b8152600401611f6d9190613dde565b6040805180830381600087803b158015611f8657600080fd5b505af1158015611f9a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611fbe9190613c86565b915091506000611fce8e8e6133ca565b509050806001600160a01b03168e6001600160a01b031614611ff1578183611ff4565b82825b90975095508a8710156120195760405162461bcd60e51b81526004016104b49061423b565b898610156120395760405162461bcd60e51b81526004016104b490614058565b505050505097509795505050505050565b7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f81565b60606109397f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8484612ad6565b60008060006120eb7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8e7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2612bed565b90506000876120fa578c6120fe565b6000195b60405163d505accf60e01b81529091506001600160a01b0383169063d505accf90612139903390309086908f908e908e908e90600401613df2565b600060405180830381600087803b15801561215357600080fd5b505af1158015612167573d6000803e3d6000fd5b505050506121798e8e8e8e8e8e610490565b909f909e509c50505050505050505050505050565b600080600083428110156121b45760405162461bcd60e51b81526004016104b490613f34565b6121c28c8c8c8c8c8c613454565b909450925060006121f47f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8e8e612bed565b90506122028d338388612c5d565b61220e8c338387612c5d565b6040516335313c2160e11b81526001600160a01b03821690636a6278429061223a908a90600401613dde565b602060405180830381600087803b15801561225457600080fd5b505af1158015612268573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061228c9190613b52565b92505050985098509895505050505050565b600080600083428110156122c45760405162461bcd60e51b81526004016104b490613f34565b6122f28a7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28b348c8c613454565b909450925060006123447f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8c7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2612bed565b90506123528b338388612c5d565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663d0e30db0856040518263ffffffff1660e01b81526004016000604051808303818588803b1580156123ad57600080fd5b505af11580156123c1573d6000803e3d6000fd5b505060405163a9059cbb60e01b81526001600160a01b037f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc216935063a9059cbb9250612414915084908890600401613e71565b602060405180830381600087803b15801561242e57600080fd5b505af1158015612442573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124669190613ae2565b61246c57fe5b6040516335313c2160e11b81526001600160a01b03821690636a62784290612498908a90600401613dde565b602060405180830381600087803b1580156124b257600080fd5b505af11580156124c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124ea9190613b52565b9250833411156125005761250033853403612992565b505096509650969350505050565b606081428110156125315760405162461bcd60e51b81526004016104b490613f34565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b03168686600081811061256857fe5b905060200201602081019061257d919061381a565b6001600160a01b0316146125a35760405162461bcd60e51b81526004016104b4906140f9565b6126017f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f88888880806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612f0e92505050565b9150348260008151811061261157fe5b602002602001015111156126375760405162461bcd60e51b81526004016104b4906141f4565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663d0e30db08360008151811061267357fe5b60200260200101516040518263ffffffff1660e01b81526004016000604051808303818588803b1580156126a657600080fd5b505af11580156126ba573d6000803e3d6000fd5b50505050507f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663a9059cbb61271f7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f89896000818110610f2d57fe5b8460008151811061272c57fe5b60200260200101516040518363ffffffff1660e01b8152600401612751929190613e71565b602060405180830381600087803b15801561276b57600080fd5b505af115801561277f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127a39190613ae2565b6127a957fe5b6127e882878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250612d4e915050565b816000815181106127f557fe5b602002602001015134111561282457612824338360008151811061281557fe5b60200260200101513403612992565b6000805160206144e1833981519152308787600081811061284157fe5b9050602002016020810190612856919061381a565b8888600019810181811061286657fe5b905060200201602081019061287b919061381a565b8560008151811061288857fe5b60200260200101518b336040516117e49695949392919061409e565b60006060846001600160a01b031663a9059cbb85856040516024016128ca929190613e71565b6040516020818303038152906040529060e01b6020820180516001600160e01b0383818316178352505050506040516129039190613d6c565b6000604051808303816000865af19150503d8060008114612940576040519150601f19603f3d011682016040523d82523d6000602084013e612945565b606091505b509150915081801561296f57508051158061296f57508080602001905181019061296f9190613ae2565b61298b5760405162461bcd60e51b81526004016104b490613efd565b5050505050565b604080516000808252602082019092526001600160a01b0384169083906040516129bc9190613d6c565b60006040518083038185875af1925050503d80600081146129f9576040519150601f19603f3d011682016040523d82523d6000602084013e6129fe565b606091505b5050905080612a1f5760405162461bcd60e51b81526004016104b490614281565b505050565b6000808411612a455760405162461bcd60e51b81526004016104b49061438a565b600083118015612a555750600082115b612a715760405162461bcd60e51b81526004016104b490614167565b6000612a85856103e563ffffffff61368916565b90506000612a99828563ffffffff61368916565b90506000612abf83612ab3886103e863ffffffff61368916565b9063ffffffff6136c016565b9050808281612aca57fe5b04979650505050505050565b6060600282511015612afa5760405162461bcd60e51b81526004016104b490614130565b815167ffffffffffffffff81118015612b1257600080fd5b50604051908082528060200260200182016040528015612b3c578160200160208202803683370190505b5090508281600081518110612b4d57fe5b60200260200101818152505060005b6001835103811015612be557600080612b9f87868581518110612b7b57fe5b6020026020010151878660010181518110612b9257fe5b60200260200101516136e3565b91509150612bc1848481518110612bb257fe5b60200260200101518383612a24565b848460010181518110612bd057fe5b60209081029190910101525050600101612b5c565b509392505050565b6000806000612bfc85856133ca565b91509150858282604051602001612c14929190613d45565b60405160208183030381529060405280519060200120604051602001612c3b929190613d88565b60408051601f1981840301815291905280516020909101209695505050505050565b60006060856001600160a01b03166323b872dd868686604051602401612c8593929190613e33565b6040516020818303038152906040529060e01b6020820180516001600160e01b038381831617835250505050604051612cbe9190613d6c565b6000604051808303816000865af19150503d8060008114612cfb576040519150601f19603f3d011682016040523d82523d6000602084013e612d00565b606091505b5091509150818015612d2a575080511580612d2a575080806020019051810190612d2a9190613ae2565b612d465760405162461bcd60e51b81526004016104b490614346565b505050505050565b60005b6001835103811015612f0857600080848381518110612d6c57fe5b6020026020010151858460010181518110612d8357fe5b6020026020010151915091506000612d9b83836133ca565b5090506000878560010181518110612daf57fe5b60200260200101519050600080836001600160a01b0316866001600160a01b031614612ddd57826000612de1565b6000835b91509150600060028a51038810612df85788612e39565b612e397f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f878c8b60020181518110612e2c57fe5b6020026020010151612bed565b9050612e667f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8888612bed565b6001600160a01b031663022c0d9f84848460006040519080825280601f01601f191660200182016040528015612ea3576020820181803683370190505b506040518563ffffffff1660e01b8152600401612ec394939291906143ec565b600060405180830381600087803b158015612edd57600080fd5b505af1158015612ef1573d6000803e3d6000fd5b505060019099019850612d51975050505050505050565b50505050565b6060600282511015612f325760405162461bcd60e51b81526004016104b490614130565b815167ffffffffffffffff81118015612f4a57600080fd5b50604051908082528060200260200182016040528015612f74578160200160208202803683370190505b5090508281600183510381518110612f8857fe5b60209081029190910101528151600019015b8015612be557600080612fca87866001860381518110612fb657fe5b6020026020010151878681518110612b9257fe5b91509150612fec848481518110612fdd57fe5b602002602001015183836132aa565b846001850381518110612ffb57fe5b6020908102919091010152505060001901612f9a565b60005b6001835103811015612a1f5760008084838151811061302f57fe5b602002602001015185846001018151811061304657fe5b602002602001015191509150600061305e83836133ca565b509050600061308e7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8585612bed565b9050600080600080846001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b1580156130cf57600080fd5b505afa1580156130e3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131079190613afe565b506001600160701b031691506001600160701b03169150600080876001600160a01b03168a6001600160a01b031614613141578284613144565b83835b91509150613178828b6001600160a01b03166370a082318a6040518263ffffffff1660e01b815260040161108c9190613dde565b9550613185868383612a24565b945050505050600080856001600160a01b0316886001600160a01b0316146131af578260006131b3565b6000835b91509150600060028c51038a106131ca578a6131fe565b6131fe7f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f898e8d60020181518110612e2c57fe5b6040805160008152602081019182905263022c0d9f60e01b9091529091506001600160a01b0387169063022c0d9f9061324090869086908690602481016143ec565b600060405180830381600087803b15801561325a57600080fd5b505af115801561326e573d6000803e3d6000fd5b50506001909b019a506130149950505050505050505050565b8082038281111561093c5760405162461bcd60e51b81526004016104b490613ece565b60008084116132cb5760405162461bcd60e51b81526004016104b490613f99565b6000831180156132db5750600082115b6132f75760405162461bcd60e51b81526004016104b490614167565b600061331b6103e861330f868863ffffffff61368916565b9063ffffffff61368916565b905060006133356103e561330f868963ffffffff61328716565b9050613352600182848161334557fe5b049063ffffffff6136c016565b9695505050505050565b600080841161337d5760405162461bcd60e51b81526004016104b4906141af565b60008311801561338d5750600082115b6133a95760405162461bcd60e51b81526004016104b490614167565b826133ba858463ffffffff61368916565b816133c157fe5b04949350505050565b600080826001600160a01b0316846001600160a01b031614156133ff5760405162461bcd60e51b81526004016104b490614013565b826001600160a01b0316846001600160a01b03161061341f578284613422565b83835b90925090506001600160a01b03821661344d5760405162461bcd60e51b81526004016104b49061430f565b9250929050565b60405163e6a4390560e01b8152600090819081907f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f6001600160a01b03169063e6a43905906134a9908c908c90600401613e57565b60206040518083038186803b1580156134c157600080fd5b505afa1580156134d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134f9919061383d565b6001600160a01b031614156135aa576040516364e329cb60e11b81526001600160a01b037f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f169063c9c6539690613556908b908b90600401613e57565b602060405180830381600087803b15801561357057600080fd5b505af1158015613584573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135a8919061383d565b505b6000806135d87f0000000000000000000000005c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f8b8b6136e3565b915091508160001480156135ea575080155b156135fa5787935086925061367c565b600061360789848461335c565b905087811161363b57858110156136305760405162461bcd60e51b81526004016104b490614058565b88945092508261367a565b600061364889848661335c565b90508981111561365457fe5b878110156136745760405162461bcd60e51b81526004016104b49061423b565b94508793505b505b5050965096945050505050565b60008115806136a4575050808202828282816136a157fe5b04145b61093c5760405162461bcd60e51b81526004016104b490613f6b565b8082018281101561093c5760405162461bcd60e51b81526004016104b490613fe5565b60008060006136f285856133ca565b509050600080613703888888612bed565b6001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561373b57600080fd5b505afa15801561374f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137739190613afe565b506001600160701b031691506001600160701b03169150826001600160a01b0316876001600160a01b0316146137aa5780826137ad565b81815b90999098509650505050505050565b803561093c816144a5565b60008083601f8401126137d8578182fd5b50813567ffffffffffffffff8111156137ef578182fd5b602083019150836020808302850101111561344d57600080fd5b803560ff8116811461093c57600080fd5b60006020828403121561382b578081fd5b8135613836816144a5565b9392505050565b60006020828403121561384e578081fd5b8151613836816144a5565b600080600080600080600060e0888a031215613873578283fd5b873561387e816144a5565b9650602088013561388e816144a5565b955060408801359450606088013593506080880135925060a08801356138b3816144a5565b8092505060c0880135905092959891949750929550565b60008060008060008060008060008060006101608c8e0312156138eb578384fd5b8b356138f6816144a5565b9a5060208c0135613906816144a5565b995060408c0135985060608c0135975060808c0135965060a08c013561392b816144a5565b955060c08c0135945060e08c0135613942816144bd565b93506139528d6101008e01613809565b92506101208c013591506101408c013590509295989b509295989b9093969950565b600080600080600080600080610100898b031215613990578384fd5b883561399b816144a5565b975060208901356139ab816144a5565b965060408901359550606089013594506080890135935060a0890135925060c08901356139d7816144a5565b8092505060e089013590509295985092959890939650565b60008060008060008060c08789031215613a07578182fd5b8635613a12816144a5565b95506020870135945060408701359350606087013592506080870135613a37816144a5565b8092505060a087013590509295509295509295565b6000806000806000806000806000806101408b8d031215613a6b578384fd5b8a35613a76816144a5565b995060208b0135985060408b0135975060608b0135965060808b0135613a9b816144a5565b955060a08b0135945060c08b0135613ab2816144bd565b9350613ac18c60e08d01613809565b92506101008b013591506101208b013590509295989b9194979a5092959850565b600060208284031215613af3578081fd5b8151613836816144bd565b600080600060608486031215613b12578081fd5b8351613b1d816144cb565b6020850151909350613b2e816144cb565b604085015190925063ffffffff81168114613b47578182fd5b809150509250925092565b600060208284031215613b63578081fd5b5051919050565b600080600080600060808688031215613b81578283fd5b85359450602086013567ffffffffffffffff811115613b9e578384fd5b613baa888289016137c7565b9095509350506040860135613bbe816144a5565b949793965091946060013592915050565b60008060408385031215613be1578182fd5b8235915060208084013567ffffffffffffffff80821115613c00578384fd5b81860187601f820112613c11578485fd5b8035925081831115613c21578485fd5b8383029150613c31848301614452565b8381528481019082860184840187018b1015613c4b578788fd5b8794505b85851015613c7557613c618b826137bc565b835260019490940193918601918601613c4f565b508096505050505050509250929050565b60008060408385031215613c98578182fd5b505080516020909101519092909150565b60008060008060008060a08789031215613cc1578384fd5b8635955060208701359450604087013567ffffffffffffffff811115613ce5578485fd5b613cf189828a016137c7565b9095509350506060870135613d05816144a5565b80925050608087013590509295509295509295565b600080600060608486031215613d2e578081fd5b505081359360208301359350604090920135919050565b6bffffffffffffffffffffffff19606093841b811682529190921b16601482015260280190565b60008251613d7e818460208701614479565b9190910192915050565b6001600160f81b0319815260609290921b6bffffffffffffffffffffffff1916600183015260158201527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f603582015260550190565b6001600160a01b0391909116815260200190565b6001600160a01b0397881681529590961660208601526040850193909352606084019190915260ff16608083015260a082015260c081019190915260e00190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b03929092168252602082015260400190565b6020808252825182820181905260009190848201906040850190845b81811015613ec257835183529284019291840191600101613ea6565b50909695505050505050565b60208082526015908201527464732d6d6174682d7375622d756e646572666c6f7760581b604082015260600190565b6020808252601f908201527f5472616e7366657248656c7065723a205452414e534645525f4641494c454400604082015260600190565b60208082526018908201527f556e69737761705632526f757465723a20455850495245440000000000000000604082015260600190565b60208082526014908201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604082015260600190565b6020808252602c908201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4f60408201526b155514155517d05353d5539560a21b606082015260800190565b60208082526014908201527364732d6d6174682d6164642d6f766572666c6f7760601b604082015260600190565b60208082526025908201527f556e697377617056324c6962726172793a204944454e544943414c5f41444452604082015264455353455360d81b606082015260800190565b60208082526026908201527f556e69737761705632526f757465723a20494e53554646494349454e545f425f604082015265105353d5539560d21b606082015260800190565b60e0808252600a90820152693ab734b9bbb0b816bb1960b11b6101008201526001600160a01b03968716602082015294861660408601529285166060850152608084019190915260a083015290911660c08201526101200190565b6020808252601d908201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604082015260600190565b6020808252601e908201527f556e697377617056324c6962726172793a20494e56414c49445f504154480000604082015260600190565b60208082526028908201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4c604082015267495155494449545960c01b606082015260800190565b60208082526025908201527f556e697377617056324c6962726172793a20494e53554646494349454e545f416040820152641353d5539560da1b606082015260800190565b60208082526027908201527f556e69737761705632526f757465723a204558434553534956455f494e50555460408201526617d05353d5539560ca1b606082015260800190565b60208082526026908201527f556e69737761705632526f757465723a20494e53554646494349454e545f415f604082015265105353d5539560d21b606082015260800190565b60208082526023908201527f5472616e7366657248656c7065723a204554485f5452414e534645525f46414960408201526213115160ea1b606082015260800190565b6020808252602b908201527f556e69737761705632526f757465723a20494e53554646494349454e545f4f5560408201526a1514155517d05353d5539560aa1b606082015260800190565b6020808252601e908201527f556e697377617056324c6962726172793a205a45524f5f414444524553530000604082015260600190565b60208082526024908201527f5472616e7366657248656c7065723a205452414e534645525f46524f4d5f46416040820152631253115160e21b606082015260800190565b6020808252602b908201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4960408201526a1394155517d05353d5539560aa1b606082015260800190565b90815260200190565b918252602082015260400190565b600085825284602083015260018060a01b03841660408301526080606083015282518060808401526144258160a0850160208701614479565b601f01601f19169190910160a00195945050505050565b9283526020830191909152604082015260600190565b60405181810167ffffffffffffffff8111828210171561447157600080fd5b604052919050565b60005b8381101561449457818101518382015260200161447c565b83811115612f085750506000910152565b6001600160a01b03811681146144ba57600080fd5b50565b80151581146144ba57600080fd5b6001600160701b03811681146144ba57600080fdfeba31bee65cb25c0bae150ad2b6ccc6072a6fa6043f64316c39a4665d11da9ab3a26469706673582212203572ccab92249b205487cf762f9e8329fbb4654913d101490772e1301ef6a72f64736f6c63430006060033"
        );
    }
}
